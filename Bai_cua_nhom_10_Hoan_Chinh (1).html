
<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Bài của nhóm 10</title>
<style>
    body { margin: 0; overflow: hidden; background: #141428; color: white; font-family: Arial; }
    #menu, #guide, #gameOver {
        position: absolute;
        width: 100%;
        text-align: center;
        top: 25%;
    }
    button { padding: 12px 25px; font-size: 18px; cursor: pointer; margin:10px; }
    canvas { background: #0d0d1a; display: none; }
</style>
</head>
<body>

<div id="menu">
    <h1>BÀI CỦA NHÓM 10</h1>
    <h3>Thành viên:</h3>
    <p>Đạt - Hiếu - Huy - Duy</p>
    <button onclick="showGuide()">Bắt đầu</button>
</div>

<div id="guide" style="display:none;">
    <h2>HƯỚNG DẪN CHƠI</h2>
    <p>Di chuyển: W A S D hoặc phím mũi tên</p>
    <p>Chuột trái: Đặt vị trí khối</p>
    <p>1 / 2: Trả lời câu hỏi</p>
    <p>N: Câu hỏi tiếp theo</p>
    <p>ESC: Thoát game</p>
    <button onclick="startGame()">Vào phòng thí nghiệm</button>
</div>

<div id="gameOver" style="display:none;">
    <h2>Đã thoát trò chơi</h2>
    <button onclick="location.reload()">Chơi lại</button>
</div>

<canvas id="gameCanvas"></canvas>

<script>
let canvas = document.getElementById("gameCanvas");
let ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let block = { x: 200, y: 100, size: 50, vx: 0, vy: 0 };
let gravity = 0.5;
let score = 0;
let gameRunning = false;
let questionIndex = 0;

let questions = [
{q:"Vật rơi tự do gần mặt đất có gia tốc bao nhiêu?", a1:"1. ~9.8 m/s²", a2:"2. ~98 m/s²", correct:1},
{q:"Vật rơi tự do là chuyển động gì?", a1:"1. Nhanh dần đều", a2:"2. Chậm dần đều", correct:1},
{q:"Quỹ đạo của ném ngang là gì?", a1:"1. Parabol", a2:"2. Đường thẳng", correct:1},
{q:"Lực ma sát có tác dụng gì?", a1:"1. Cản trở chuyển động", a2:"2. Làm vật nhanh hơn", correct:1},
{q:"Định luật II Newton: F = ?", a1:"1. m.a", a2:"2. m/v", correct:1},
{q:"Nếu không có lực tác dụng, vật sẽ?", a1:"1. Giữ nguyên trạng thái", a2:"2. Tự dừng lại", correct:1},
{q:"Đơn vị của lực là?", a1:"1. Newton (N)", a2:"2. Joule (J)", correct:1},
{q:"Gia tốc là đại lượng?", a1:"1. Vector", a2:"2. Vô hướng", correct:1},
{q:"Vận tốc có đặc điểm gì?", a1:"1. Có hướng", a2:"2. Không có hướng", correct:1},
{q:"Công thức tính vận tốc?", a1:"1. v = s/t", a2:"2. v = s*t", correct:1},
{q:"Trọng lực hướng về đâu?", a1:"1. Tâm Trái Đất", a2:"2. Lên trên", correct:1},
{q:"Ma sát trượt phụ thuộc vào?", a1:"1. Lực ép và bề mặt", a2:"2. Màu sắc vật", correct:1},
{q:"Chuyển động thẳng đều có gia tốc?", a1:"1. Bằng 0", a2:"2. Khác 0", correct:1},
{q:"Khối lượng đo bằng đơn vị?", a1:"1. Kilogram", a2:"2. Newton", correct:1},
{q:"Công thức quãng đường rơi tự do?", a1:"1. s = 1/2 g t²", a2:"2. s = g t", correct:1}
];

function showGuide(){
    document.getElementById("menu").style.display = "none";
    document.getElementById("guide").style.display = "block";
}

function startGame(){
    document.getElementById("guide").style.display = "none";
    canvas.style.display = "block";
    gameRunning = true;
    gameLoop();
}

function gameLoop(){
    if(!gameRunning) return;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    block.vy += gravity;
    block.y += block.vy;
    block.x += block.vx;

    if(block.y + block.size > canvas.height){
        block.y = canvas.height - block.size;
        block.vy = 0;
    }

    ctx.fillStyle = "cyan";
    ctx.fillRect(block.x, block.y, block.size, block.size);

    ctx.fillStyle = "white";
    ctx.fillText("Điểm: " + score, 20, 30);

    let q = questions[questionIndex];
    ctx.fillText(q.q, 20, 70);
    ctx.fillText(q.a1 + " | " + q.a2, 20, 100);

    requestAnimationFrame(gameLoop);
}

document.addEventListener("keydown", function(e){

    if(e.key === "Escape"){
        gameRunning = false;
        canvas.style.display = "none";
        document.getElementById("gameOver").style.display = "block";
    }

    if(e.key === "n" || e.key === "N"){
        questionIndex++;
        if(questionIndex >= questions.length){
            questionIndex = 0;
        }
    }

    if(e.key === "1" || e.key === "2"){
        let answer = parseInt(e.key);
        if(answer === questions[questionIndex].correct){
            score++;
            alert("Chính xác!");
        } else {
            alert("Sai rồi!");
        }
    }

    if(e.key === "ArrowRight" || e.key === "d") block.vx += 1;
    if(e.key === "ArrowLeft" || e.key === "a") block.vx -= 1;
    if(e.key === "ArrowUp" || e.key === "w") block.vy -= 8;
});

document.addEventListener("mousedown", function(e){
    block.x = e.clientX - block.size/2;
    block.y = e.clientY - block.size/2;
});

</script>

</body>
</html>
